<!DOCTYPE html>
<html>

<head>
  <title>Exercise App</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
      text-align: center;
    }

    .content-container {
      display: flex;
      align-items: start;
      gap: 20px;
    }

    img {
      max-width: 70%;
      max-height: 70vh;
      display: block;
      margin: 10px auto;
    }

    .info-box {
      border: 1px solid #ccc;
      padding: 10px;
      max-width: 300px;
      text-align: left;
    }

    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
    }

    h1 {
      margin-bottom: 20px;
    }

    h2 {
      margin-bottom: 10px;
    }

    ul {
      text-align: left;
      display: inline-block;
      padding: 0 20px;
      max-width: 600px;
    }

    .button-container {
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    /* CSS for indented bullet points */
    .info-box ul ul {
      list-style-type: circle;
      /* Use circle as bullet style */
      color: white;
      /* Set bullet color to white */
    }

    .info-box ul ul li {
      padding-left: 40px;
      /* Add left padding for indentation */
    }
  </style>
</head>

<body>
  <h1>ROM</h1>
  <h2 id="exerciseTitle"></h2>
  <ul id="exerciseText"></ul>

  <div class="content-container">
    <img id="exerciseGif" src="02 - Hip Rotation.gif">
    <div class="info-box">
      <h3>Joints Covered:</h3>
      <ul id="jointsCovered"></ul>
    </div>
  </div>

  <div class="button-container">
    <button id="prevBtn">Back</button>
    <button id="nextBtn">Next</button>
  </div>

  <script>
    const gifElement = document.getElementById('exerciseGif');
    const nextButton = document.getElementById('nextBtn');
    const prevButton = document.getElementById('prevBtn');
    const titleElement = document.getElementById('exerciseTitle');
    const textElement = document.getElementById('exerciseText');
    const jointsCoveredElement = document.getElementById('jointsCovered');

    const exercises = [
      {
        title: "Hip Rotation",
        text: [
          "Keep feet hip-width apart and bow forward.",
          "Lean upper body to one side and make a circular motion with torso.",
          "Lean backward as you return to the upright position.",
          "Imagine drawing a giant circle at a 45-degree angle with the volume floor, using your head."
        ],
        gif: "02 - Hip Rotation.gif",
        joints: ["Hips",
          "Spine", 
          "LeftUpLeg",
          "RightUpLeg"
        ]
      },
      {
        title: "Twist Waist",
        text: [
          "Keep feet hip-width apart.",
          "Bring arms up to chest, palms facing the floor.",
          "Twist around to see behind you.",
          "Repeat in the opposite direction."
        ],
        gif: "03 - Twist Waist.gif",
        joints: ["Spine", "LeftShoulder", "RightShoulder", "Hips, which include: LeftUpLeg and RightUpLeg"]
      },
      {
        title: "Roll Thighs",
        text: [
          "Stand with feet hip-width apart.",
          "Lift one leg and bend your knee to a 90-degree angle.",
          "Rotate the lifted leg outwards to one side.",
          "Perform the same motion with the other leg.",
	  "Imagine stepping over a knee-high fence with each leg.",
        ],
        gif: "04 - Roll Thighs.gif",
        joints: ["LeftUpLeg", "RightUpLeg", "LeftLeg", "RightLeg", "Spine"]
      },
// ... rest of your exercises with `joints` property
    ];

    let currentExercise = 0;

    function displayExercise(index) {
      if (index >= 0 && index < exercises.length) {
        titleElement.textContent = exercises[index].title;

        let bulletPoints = "";
        exercises[index].text.forEach(item => {
          bulletPoints += `<li>${item}</li>`;
        });
        textElement.innerHTML = bulletPoints;
        gifElement.src = exercises[index].gif;

        // Display joints covered (modified to handle nested arrays)
        let jointsCovered = "";
        exercises[index].joints.forEach(joint => {
          if (Array.isArray(joint)) {
            // If it's a nested array, create a nested unordered list
            jointsCovered += "<ul>";
            joint.forEach(nestedJoint => {
              jointsCovered += `<li>${nestedJoint}</li>`;
            });
            jointsCovered += "</ul>";
          } else {
            jointsCovered += `<li>${joint}</li>`;
          }
        });
        jointsCoveredElement.innerHTML = jointsCovered;

      } else if (index < 0) {
        currentExercise = 0;
        alert("This is the first exercise!");
      } else {
        alert("Exercises complete!");
      }
    }

    nextButton.addEventListener('click', () => {
      currentExercise++;
      displayExercise(currentExercise);
    });

    prevButton.addEventListener('click', () => {
      currentExercise--;
      displayExercise(currentExercise);
    });

    displayExercise(currentExercise);
  </script>
</body>

</html>